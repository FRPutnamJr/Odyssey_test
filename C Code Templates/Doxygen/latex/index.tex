\label{_Contents}%
 \hypertarget{index_contents_sec}{}\section{Table of Contents}\label{index_contents_sec}
\href{#Introduction}{\tt Introduction}~\newline
 \href{#VersionLog}{\tt Version Log}~\newline
 \href{#Acronyms}{\tt Acronyms}~\newline
 \href{#API}{\tt A\+P\+I's}~\newline
 \href{#CodingStandard}{\tt Coding Standard}~\newline
 \href{#Documentation}{\tt Documentation}~\newline
 \href{#Requirements}{\tt Requirements}~\newline
 \href{#Testing}{\tt Testing}~\newline
 \href{#Tools}{\tt Tools}~\newline






\label{_Introduction}%
 \hypertarget{index_intro_sec}{}\section{Introduction}\label{index_intro_sec}
This document serves the purpose of providing the background and details of the embedded software that was developed for ........

Provide an introduction to the project, its purpose, and basic overview of what the system does.



~\newline
\href{#Contents}{\tt Table of Contents}~\newline






\label{_VersionLog}%
\hypertarget{index_Version}{}\section{Version Log}\label{index_Version}
\hypertarget{index_Release1}{}\subsection{Release 1}\label{index_Release1}

\begin{DoxyItemize}
\item added Initial Program Structure
\item added Spi Driver
\item added Dio Driver
\item added Task Scheduler
\item added Adc driver
\item added Canbus Driver
\item added C\+A\+N Application Layer
\end{DoxyItemize}

Final build capable of detecting an event through Adc and storing the event to R\+A\+M. R\+A\+M data can be retrieved through the C\+A\+N bus.

~\newline
\href{#Contents}{\tt Table of Contents}~\newline
 



\label{_Acronyms}%
\hypertarget{index_Acronyms}{}\section{Acronyms and Abbreviations}\label{index_Acronyms}
Any acronyms used within this documentation are defined here.~\newline


A2\+D -\/ Analog to Digital Converter ~\newline
 A\+D\+C -\/ Analog to Digital Converter ~\newline
 A\+T\+D -\/ Analog To Digital converter ~\newline
 C\+A\+N -\/ Controller Area Network ~\newline
 D\+I\+O -\/ Digital Input / Output ~\newline
 I2\+C -\/ Inter-\/\+Integrated Circuit ~\newline
 M\+C\+U -\/ Micro Controller Unit ~\newline
 M\+E\+M -\/ Memory ~\newline
 R\+A\+M -\/ Random Access Memory ~\newline
 R\+O\+M -\/ Read Only Memory ~\newline
 R\+T\+C -\/ Real Time Clock ~\newline
 S\+P\+I -\/ Serial Peripheral Interface ~\newline
 S\+Y\+S -\/ System ~\newline
 T\+M\+R -\/ Timer ~\newline
 T\+S\+K -\/ Task W\+D\+T -\/ Watchdog Timer ~\newline
~\newline


Any abbreviations used within this documentation are defined here. ~\newline


Rq -\/ Request ~\newline
 Rs -\/ Response ~\newline
 Sm -\/ State Machine ~\newline
 St -\/ State ~\newline


~\newline
\href{#Contents}{\tt Table of Contents}~\newline
 



\label{_API}%
\hypertarget{index_API}{}\section{A\+P\+I}\label{index_API}
The Application Programming Interface (A\+P\+I) describes the functions that are available to the application for accessing the peripherals and library routines.

\char`\"{}\+Update this section with an A\+P\+I or links to the A\+P\+I's used in the software.  \char`\"{}\hypertarget{index_Controller}{}\subsection{Area Network (\+C\+A\+N)}\label{index_Controller}
Some useful functions for controlling C\+A\+N \begin{DoxySeeAlso}{See also}
Can\+\_\+\+Transmit -\/ Transmit data over C\+A\+Nbus. ~\newline
 

Can\+\_\+\+Receive -\/ Receive data from C\+A\+Nbus. ~\newline

\end{DoxySeeAlso}
~\newline
\href{#Contents}{\tt Table of Contents}~\newline
 



\label{_CodingStandard}%
\hypertarget{index_Standard}{}\section{Coding Standard Overview}\label{index_Standard}
The X\+X\+X\+X\+X Coding Standard was used to develop the embedded firmware for this project. While the standard itself is extensive, a general overview is presented here so that a basic understanding of how the code is organized and developed can be understood. ~\newline
~\newline


\char`\"{}\+Update this section with a description of the Coding Standard used, where it is located and some highlights\char`\"{} \char`\"{}\+Some basic examples are below\char`\"{}\hypertarget{index_CNC}{}\subsection{Code Naming Convention}\label{index_CNC}
Function names should conform to the following standard, ~\newline

\begin{DoxyItemize}
\item Function names should start with a three letter sub-\/system name followed by an under-\/score. ~\newline

\item The first character of the sub-\/system name shall be capitalized. ~\newline

\item The rest of the function name should not have any under-\/scores. ~\newline

\item The rest of the function name should describe what the function does.~\newline

\item The first character of each word should be capitalized. ~\newline

\item Global variables and variables that are static to a module should have their names conform to the same standard as function names. ~\newline

\item Sub-\/system names aren't required, but use them if you can.~\newline
~\newline

\end{DoxyItemize}

For example,
\begin{DoxyItemize}
\item Spi\+\_\+\+Init(\&\+Spi\+\_\+\+Config), where \char`\"{}\+Spi\+\_\+\char`\"{} is the sub-\/system and \char`\"{}\+Init\char`\"{} describes the action to be performed.~\newline
~\newline

\end{DoxyItemize}

Common first words after the sub-\/system name,
\begin{DoxyItemize}
\item Init
\item Read
\item Set
\item Write
\end{DoxyItemize}

For function prototype parameters,
\begin{DoxyItemize}
\item The sub-\/system shall not be used.
\item The first character of each word shall be capitalized.
\item There should be no under-\/scores in the name.
\end{DoxyItemize}

For local variables (to a function),
\begin{DoxyItemize}
\item The sub-\/system shall not be used.
\item The first character of the first word shall not be capitalized.
\item If the name contains more than one word, each word after the first shall have its first character capitalized.
\end{DoxyItemize}

For example,~\newline
~\newline



\begin{DoxyCode}
uint16 Spi\_Read(uint8 *Charptr) 
\{
  uint8 i;
  uint8 myVariable;
  
  \textcolor{comment}{// Some code}
  statements;
\}
\end{DoxyCode}
~\newline



\begin{DoxyItemize}
\item The parameter \char`\"{}\+Charptr\char`\"{} has the first character capitalized and does not start with a sub-\/system name because it is a parameter.
\item The variable \char`\"{}i\char`\"{} is not capitalized and does not start with a sub-\/system name because it is a local variable.
\item The variable \char`\"{}my\+Variable\char`\"{} has it's first word un-\/capitalized, it's second word capitalized, and does not start with a sub-\/system name because it is a local variable.
\end{DoxyItemize}\hypertarget{index_SSN}{}\subsection{Sub-\/\+System Names}\label{index_SSN}
Here is a list of sub-\/system names. More can be added as needed. ~\newline


Adc -\/ Analog to Digital Conversion ~\newline
 Dio -\/ Digital Input/\+Output ~\newline
 Eep -\/ E\+E\+P\+R\+O\+M memory ~\newline
 Flash -\/ Flash memory ~\newline
 Icu -\/ Input Capture Unit ~\newline
 Mcu -\/ Micro-\/\+Controller Unit ~\newline
 Pwm -\/ Pulse Width Modulation ~\newline
 Rtc -\/ Real-\/\+Time Counter ~\newline
 Spi -\/ Serial Peripheral Interface ~\newline
 Sys -\/ System Swu -\/ Software U\+A\+R\+T ~\newline
 Tmr -\/ Timer Test -\/ Testing functionality (anything using this sub-\/system name should be conditionally compiled so that it does not end up in production code). ~\newline
 Wdt -\/ Watchdog Timer ~\newline
\hypertarget{index_CF}{}\subsection{Code Formatting/\+Style}\label{index_CF}
Code formatting and style shall conform to the following guidelines.


\begin{DoxyItemize}
\item Indentation shall be 2 spaces (not tabs).
\item Opening braces shall be placed on separate lines.
\item Closing braces shall be placed on separate lines.
\item If, for, switch, and while statements shall always use braces.
\item A comment block shall be placed before every function definition describing what the function does, any paramaters passed to it, any return value, and anything else that would be relevant or useful to someone that has to maintain it.
\end{DoxyItemize}

For example, ~\newline
 
\begin{DoxyCode}
\textcolor{comment}{// This is correct. }
\textcolor{keywordflow}{if} (condition) 
\{ 
  statement; 
\} 
\textcolor{keywordflow}{else} 
\{ 
  statement2; 
\} 

\textcolor{comment}{// This is NOT.}
\textcolor{keywordflow}{if} (condition) \{ 
  statement;     
\} \textcolor{keywordflow}{else} \{        
  statement2;       
\}               

\textcolor{comment}{// Neither is this.}
\textcolor{keywordflow}{if} (condition) 
  statement; 
\textcolor{keywordflow}{else}        
  statement2; 
\end{DoxyCode}


~\newline
\href{#Contents}{\tt Table of Contents}~\newline
 



\label{_Documentation}%
\hypertarget{index_Docs}{}\section{Documentation}\label{index_Docs}
How To Add An Image To This Documentation\+: You can include images in the documentation by writing \char`\"{}(\textbackslash{}image html filename)\char`\"{}. If you put it alone on a line it will be embedded in place. Doxygen supports gif, jpg, jpeg, png, and bmp files. Place the images in the \char`\"{}\+Doc/\+Images\char`\"{} directory.\hypertarget{index_Gimp}{}\subsection{Gimp}\label{index_Gimp}
Application \char`\"{}\+Gimp\char`\"{} can convert a P\+D\+F file into a jpeg, png, or bmp. \href{http://www.gimp.org}{\tt http\+://www.\+gimp.\+org}


\begin{DoxyItemize}
\item Start Gimp.
\item Open your P\+D\+F file.
\item Click \char`\"{}\+Import\char`\"{} to import the P\+D\+F file.
\item From the Menu click \char`\"{}\+Tools -\/$>$ Selection Tools -\/$>$ Rectangle Select\char`\"{}.
\item Make a box around the area that you want to create an image of using the rectangle select tool.
\item From the Menu, click \char`\"{}\+Image -\/$>$ Fit Canvas To Selection\char`\"{}.
\item Again from the Menu, click \char`\"{}\+Image -\/$>$ Crop to Selection\char`\"{}.
\item Finally, from the Menu click \char`\"{}\+Image -\/$>$ Autocrop Image\char`\"{}.
\item If this is the image that you want we just need to save it.
\item From the Menu, click \char`\"{}\+File -\/$>$ Save As\char`\"{}.
\item Click on the plus sign next to \char`\"{}\+Select File Type (\+By Extension)\char`\"{}.
\item Go down the list and click on \char`\"{}\+P\+N\+G Image\char`\"{}.
\item Select the directory (Doc/\+Images) to save the file to.
\item Edit the filename if you want.
\item Click \char`\"{}\+Save\char`\"{} to save the image as a png.
\end{DoxyItemize}

To combine images that are on 2 different pdf pages\+:
\begin{DoxyItemize}
\item Import each page (same as above).
\item Use the rectangle tool to remove stuff from the first page.
\item Use Image -\/$>$ Canvas Size to change just the height. Make it big enough (double) so that you will be able to paste page 2 onto it.
\item Click on Image -\/$>$ Flatten Image to change the background of the new part on the bottom to the same as the original page (white from some kind of checkered pattern).
\item Use the rectangle tool to select and copy (C\+T\+R\+L-\/\+C) the image from the second page.
\item Move the rectangle tool cursor back to the first page and paste it.
\end{DoxyItemize}

When adding pictures from a camara, the resolution is usaully too big. I like to scale it down to 800x600.
\begin{DoxyItemize}
\item Click Image -\/$>$ Scale Image...
\item Enter 800 for the Width and then hit the Tab key. The Height should scale down automatically (600 for my pictures).
\item Click Scale
\item Then Save the image.
\end{DoxyItemize}\hypertarget{index_PDFS}{}\subsection{P\+D\+F Split And Merge\+:}\label{index_PDFS}
Application \char`\"{}\+P\+D\+F Split and Merge\char`\"{} can split a P\+D\+F document into single pages. \href{http://www.pdfsam.org}{\tt http\+://www.\+pdfsam.\+org}\hypertarget{index_PDFE}{}\subsection{P\+D\+F Escape\+:}\label{index_PDFE}
P\+D\+F Escape can be used to edit P\+D\+F files. It is web based (nothing to download). You upload a file and can then edit it. I just use it for copying text from datasheets and then pasting it into my documentation. \href{http://www.pdfescape.com}{\tt http\+://www.\+pdfescape.\+com}\hypertarget{index_Edraw}{}\subsection{Edraw}\label{index_Edraw}
Edraw is used to generate the architecture and design documents.

Edraw can be used to draw many different kinds of diagrams. It currently has special objects to help draw entity relationship diagrams, U\+M\+L diagrams, flowcharts, network diagrams, and many other diagrams.\hypertarget{index_Doxygen}{}\subsection{Doxygen}\label{index_Doxygen}
Doxygen is used to generate all the H\+T\+M\+L related documentation directly from the source. Information on how to install it and how to properly document your code can be found at \href{http://www.stack.nl/~dimitri/doxygen/index.html}{\tt http\+://www.\+stack.\+nl/$\sim$dimitri/doxygen/index.\+html}

~\newline
\href{#Contents}{\tt Table of Contents}~\newline
 



\label{_Requirements}%
\hypertarget{index_Requirements}{}\section{Requirements}\label{index_Requirements}
Refer to the Software Requirements Specification for a detailed view of the requirements for the embedded software. Refer to the quick spec 2 for details on the system requirements.

~\newline
\href{#Contents}{\tt Table of Contents}~\newline
 



\label{_Testing}%
\hypertarget{index_Validation}{}\section{System Testing and Validation}\label{index_Validation}
This section is where testing and validation is demonstrated and explained. How test cases were developed. How test cases were determined. Estimated number of bugs per 1k of code. Bug tracking. Things to do.\hypertarget{index_Bugs}{}\subsection{Bug Tracking}\label{index_Bugs}
Currently any bugs which are found in the software are recorded and logged on the Trac website. Reports can be generated on tasks by milestone, user, version etc. Bugs which need to be added to the list can be added by visiting the Trac site at the following link\+: ~\newline
~\newline


update link\hypertarget{index_ToDo}{}\subsection{Todo}\label{index_ToDo}
Currently any tasks which resulted from software features that need to be added are stored on the Trac website. Reports can be generated on tasks by milestone, user, version etc. Features which need to be added to the list can be added by visiting the Trac site at the following link\+: ~\newline
~\newline


update link

~\newline
\href{#Contents}{\tt Table of Contents}~\newline
 



\label{_Tools}%
\hypertarget{index_DevEnviron}{}\section{Tools}\label{index_DevEnviron}
This section explains a number of software development tools which were instrumental in the development of this firmware. These tools include a source code version repository, compiler and I\+D\+E, code metrics tools and static analysis tools. Details on each tool can be found below\+:\hypertarget{index_subversion}{}\subsection{Subversion}\label{index_subversion}
The X\+X\+X embedded firmware is stored on the X\+X\+X S\+V\+N server located at U\+P\+D\+A\+T\+E L\+I\+N\+K. The primary client which was used during development was the Tortoise S\+V\+N client which is an open source S\+V\+N client.\hypertarget{index_svn1}{}\subsection{Step 1\+: Install Tortoise S\+V\+N}\label{index_svn1}
Tortoise can be downloaded from \href{http://tortoisesvn.net/downloads.html}{\tt http\+://tortoisesvn.\+net/downloads.\+html}. Once downloaded, intstall by double clicking the executable and follow the on-\/screen instructions. It will be necessary to restart the computer in order to get the sub menu's available by right clicking in windows explorer.\hypertarget{index_svn2}{}\subsection{Step 2\+: Checkout Source}\label{index_svn2}
In windows explorer, right click in the C\+:/ path and select S\+V\+N Checkout as shown in the image below. 

Enter the following repository information as shown in the image below\+:



The source can now be accessed from the c\+:/bears/ directory.\hypertarget{index_CodeWarrior}{}\subsection{Code Warrior}\label{index_CodeWarrior}
\hypertarget{index_Compiler}{}\subsection{Compiler}\label{index_Compiler}
The compiler that was used was the default compiler included in the S12\+X version of Code Warrior. Production compilation was done with the linker for S12.\hypertarget{index_RSM}{}\subsection{R\+S\+M Code metrics}\label{index_RSM}
Latest Code Metric Report will go here.\hypertarget{index_Lint}{}\subsection{Lint}\label{index_Lint}
Lint is a static analysis tool which was used to analyze the code and check for suspicious and non-\/portable constructs that were likely to cause bugs. In this case, P\+C\+Lint from Gimpel. Static analysis performs additional checks that the compiler does not perform. A few examples of these are
\begin{DoxyItemize}
\item initialization checking
\item value tracking
\item strong type checking
\item macro analysis
\end{DoxyItemize}

Lint integrates into Code Warrior as a separate linker option. It also includes additional checks that can be enabled such as M\+I\+S\+R\+A standard checks. Lint was used primarily to check for inconsistancies which could cause bugs and duplications that could lead to misunderstanding the code. A complete list of checks that lint performs can be found at ~\newline


\href{http://gimpel-online.com/MsgRef.html}{\tt http\+://gimpel-\/online.\+com/\+Msg\+Ref.\+html}

~\newline
\href{#Contents}{\tt Table of Contents}~\newline
 

 